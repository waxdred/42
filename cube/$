
#include "../includes/cube.h"


static void	ft_init_draw(t_draw *draw, t_line *line)
{
	draw->i = 0;
	draw->ex = abs(line->x1 - line->x0);
	draw->ey = abs(line->y1 - line->y0);
	draw->dx = 2 * draw->ex;
	draw->dy = 2 * draw->ey;
	draw->Dx = draw->ex;
	draw->Dy = draw->ey;
	draw->Xincr = 1;
	draw->Yincr = 1;
	if (line->x0 > line->x1)
		draw->Xincr = -1;
	if (line->y0 > line->y1)
		draw->Yincr = -1;
}

static void	ft_draw_dx(t_cube *cube, t_draw *draw, t_line *line)
{
	while (draw->i <= draw->Dx)
	{
		mlx_pixel_put(cube->p_mlx, cube->p_win, line->x0, line->y0, line->color);
		draw->i++;
		line->x0 += draw->Xincr;
		draw->ex -= draw->dy;
		if (draw->ex < 0)
		{
			line->y0 += draw->Yincr;
			draw->ex += draw->dx;
		}
	}

}

void	ft_draw_line(t_cube *cube, t_line *line, int type)
{
	t_draw	draw;

	ft_init_draw(&draw, line);
	if (draw.Dx > draw.Dy)
	{
	}
	if (draw.Dx < draw.Dy)
	{
		while (draw.i <= draw.Dy)
		{
			mlx_pixel_put(cube->p_mlx, cube->p_win, line->x0, line->y0, line->color);
			draw.i++;
			line->y0 += draw.Yincr;
			draw.ey -= draw.dx;
			if (draw.ey < 0)
			{
				line->x0 += draw.Xincr;
				draw.ey += draw.dy;
			}
		}
	}
}
